<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Beyond the Code: The Design of the ID Anonymization Tool | Wanqi Zhao </title> <meta name="author" content="Wanqi Zhao"> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img//favicons/favicon.ico?83e6328455c13bdd35fd9c15f22a20ac"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://stefaniezhao77.github.io/blog/2025/id-anonymization-tool/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Wanqi</span> Zhao </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/gallery/">gallery </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Beyond the Code: The Design of the ID Anonymization Tool</h1> <p class="post-meta"> Created on February 10, 2025 </p> <p class="post-tags"> <a href="/blog/2025"> <i class="fa-solid fa-calendar fa-sm"></i> 2025 </a>   ·   <a href="/blog/tag/python"> <i class="fa-solid fa-hashtag fa-sm"></i> python</a>   <a href="/blog/tag/data-anonymization"> <i class="fa-solid fa-hashtag fa-sm"></i> data-anonymization</a>   ·   <a href="/blog/category/tools"> <i class="fa-solid fa-tag fa-sm"></i> Tools</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <h2 id="the-why-a-need-for-responsible-data-handling">The “Why”: A Need for Responsible Data Handling</h2> <p>In a world increasingly driven by data, the need for responsible data handling has never been greater. I built this open-source ID anonymization tool not just as a technical exercise, but as a response to a growing ethical imperative: to protect individual privacy while still enabling valuable data analysis. Whether it’s in medical research, social science, or any field dealing with sensitive information, the ability to anonymize data effectively is crucial for maintaining public trust and complying with regulations like GDPR and HIPAA. This project is our contribution to that effort.</p> <h2 id="design-philosophy-balancing-privacy-integrity-and-usability">Design Philosophy: Balancing Privacy, Integrity, and Usability</h2> <p>From the outset, our design philosophy was guided by three core principles:</p> <ol> <li> <strong>Privacy by Design:</strong> I wanted to build a tool that prioritized privacy from the ground up, not as an afterthought. This meant choosing strong cryptographic methods and ensuring that the anonymization process was irreversible.</li> <li> <strong>Data Integrity:</strong> It was essential that the anonymization process did not compromise the integrity of the data itself. Researchers and analysts need to be able to trust that the underlying data remains accurate and reliable.</li> <li> <strong>Usability:</strong> I aimed for a tool that was accessible to a wide range of users, not just those with deep technical expertise. This led to the development of both a graphical user interface (GUI) and a command-line interface (CLI).</li> </ol> <h2 id="anonymization-vs-utility-navigating-the-trade-offs">Anonymization vs. Utility: Navigating the Trade-offs</h2> <p>One of the central challenges in data anonymization is the inherent trade-off betIen anonymization strength and data utility. Perfect anonymization (e.g., simply deleting all identifying information) would render the data useless for most analytical purposes. Conversely, Iak anonymization (e.g., simply replacing names with pseudonyms) leaves the data vulnerable to re-identification attacks.</p> <p>I chose to use SHA-256 hashing (implemented in the <code class="language-plaintext highlighter-rouge">hash_id</code> function, lines 51-69 of <code class="language-plaintext highlighter-rouge">id_processor.py</code>) as a strong anonymization technique. SHA-256 provides a high level of security, making it computationally infeasible to reverse the hashing process. HoIver, I also recognized the need to preserve relationships <em>betIen</em> data points. This is why I implemented the mapping file concept (handled by the <code class="language-plaintext highlighter-rouge">create_id_mapping</code> function, lines 114-135 of <code class="language-plaintext highlighter-rouge">id_processor.py</code>). This allows users to define how different IDs relate to each other, ensuring that, for example, all records belonging to the same patient are linked to the same anonymized ID, even across different files.</p> <h2 id="challenges-and-solutions-a-developers-journey">Challenges and Solutions: A Developer’s Journey</h2> <p>The development process wasn’t without its hurdles. One significant challenge was ensuring data integrity and preventing file corruption, especially in the event of unexpected interruptions. I addressed this through a combination of techniques:</p> <ul> <li> <strong>Automatic Backups:</strong> Before any file is modified, a backup is created (lines 249-254 of <code class="language-plaintext highlighter-rouge">id_processor.py</code>). This provides a simple but effective way to recover the original data if something goes wrong.</li> <li> <strong>Temporary Files and Atomic Renames:</strong> The <code class="language-plaintext highlighter-rouge">update_file_ids</code> function (lines 137-226 of <code class="language-plaintext highlighter-rouge">id_processor.py</code>) uses a temporary file to store the updated data. Only after the entire file is successfully written is the original file replaced with the temporary file using an atomic rename operation. This minimizes the risk of data corruption.</li> <li> <strong>Retry Logic:</strong> I also incorporated retry logic (lines 190-209 of <code class="language-plaintext highlighter-rouge">id_processor.py</code>) to handle situations where the file might be temporarily locked by another process.</li> </ul> <p>Another challenge was handling potentially malformed or inconsistent input data. The <code class="language-plaintext highlighter-rouge">read_file</code> function (lines 70-84 of <code class="language-plaintext highlighter-rouge">id_processor.py</code>) includes error handling to gracefully manage various file formats and potential issues. I also added checks to ensure that the mapping file itself is valid and contains the required columns (lines 289-291 of <code class="language-plaintext highlighter-rouge">id_processor.py</code>).</p> </div> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Wanqi Zhao. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: March 24, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>